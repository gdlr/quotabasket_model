## run this to automate the generation of the result files. Just modify the make up for the species once.

```{r}

library(gtools)
library(tidyverse)
library(rmarkdown)
library(here)

render_model = function(tech_c1, tech_c2, tech_c3, tech_c4, tech_c5) {
  rmarkdown::render(
    input = "working_model/price and cost explore/auto_model_defaults_cost.Rmd", # What's the input file to render?
    params = list(tech_c1=tech_c1, tech_c2=tech_c2, tech_c3=tech_c3, tech_c4=tech_c4, tech_c5=tech_c5), # What are the parameters?
    output_file = paste0("runs_", tech_c1, tech_c2, tech_c3, tech_c4, tech_c5, "_mix.html") # What should I name the output file?
  )
}

render_model_ident = function(tech_c1, tech_c2, tech_c3, tech_c4, tech_c5) {
  rmarkdown::render(
    input = "model_identical_cost.Rmd", # What's the input file to render?
    params = list(tech_c1=tech_c1, tech_c2=tech_c2, tech_c3=tech_c3, tech_c4=tech_c4, tech_c5=tech_c5), # What are the parameters?
    output_file = paste0("runs_", tech_c1, tech_c2, tech_c3, tech_c4, tech_c5, "_mix.html") # What should I name the output file?
  )
}

tech_c1 = 1
tech_c2 = 1
tech_c3 = 1
tech_c4 = 1
tech_c5 = 1

tech_c <- as.vector(c(tech_c1, tech_c2, tech_c3, tech_c4, tech_c5))

possible_scenarios <- permutations(n=5,r=5,tech_c,set=FALSE)

 for (i in 1:nrow(uniqu_poss_scen)){
   
   
   render_model_ident(uniqu_poss_scen[i,1], uniqu_poss_scen[i,2], uniqu_poss_scen[i,3], uniqu_poss_scen[i,4], uniqu_poss_scen[i,5])
   
}

uniqu_poss_scen <- possible_scenarios %>% 
  unique()

```
